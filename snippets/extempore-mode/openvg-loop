# -*- mode: snippet -*-
# name: openvg-loop
# key: vgsetup
# --
(define width ${1:`(display-pixel-width)`.0})
(define height ${2:`(display-pixel-height)`.0})
(bind-val width float width)
(bind-val height float height)
(define fullscreen ${3:#t})

(bind-func gl_render
  (lambda ()
    ;;          pre  opaq trans post data
    (xtm_render null null null  post null)
    void))

(ipc:graphics-setup "utility" width height fullscreen ${4:30} (*metro* 'get-beat 4))
